<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate annual anomaly — calc_annual_anomaly • er.helpers</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculate annual anomaly — calc_annual_anomaly" />
<meta property="og:description" content="Calculate annual anomaly" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">er.helpers</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/statisticsNZ/er.helpers/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate annual anomaly</h1>
    <small class="dont-index">Source: <a href='https://github.com/statisticsNZ/er.helpers/blob/master/R/anomaly.R'><code>R/anomaly.R</code></a></small>
    <div class="hidden name"><code>calc_annual_anomaly.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate annual anomaly</p>
    </div>

    <pre class="usage"><span class='fu'>calc_annual_anomaly</span>(
  <span class='no'>x</span>,
  <span class='no'>year</span>,
  <span class='kw'>period</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>max_missing</span> <span class='kw'>=</span> <span class='fl'>0.2</span>,
  <span class='kw'>max_consecutive</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>metric. A vector</p></td>
    </tr>
    <tr>
      <th>year</th>
      <td><p>the year in which the metric was observed. A vector of the same
length as x</p></td>
    </tr>
    <tr>
      <th>period</th>
      <td><p>the reference period of the anomaly. A vector of length 2 or
NULL. If a vector, the first element indicates the beginning of the
reference period and the second the end of the reference period. If NULL
(the default) the reference period goes from the first to the last year.</p></td>
    </tr>
    <tr>
      <th>max_missing</th>
      <td><p>Numeric. Maximum number or proportion of missing values in
x. If any number of missing values is allowed set to 1 (100%) or NULL.</p></td>
    </tr>
    <tr>
      <th>max_consecutive</th>
      <td><p>Numeric. Maximum number or proportion of consecutive
missing values in x. If any number of missing values is allowed set to 1
(100%) or NULL.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a vector with the anomaly of x</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>temperature_frame</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>tibble</span><span class='kw ns'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span>(<span class='kw'>temperature</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span>(<span class='fl'>100</span>, <span class='fl'>10</span>, <span class='fl'>20</span>),
                                    <span class='kw'>year</span> <span class='kw'>=</span> <span class='fl'>1901</span>:<span class='fl'>2000</span>)
<span class='no'>reference_period</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1961</span>, <span class='fl'>1990</span>)
<span class='no'>temperature_frame</span> <span class='kw'>%&gt;%</span>
<span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(<span class='kw'>anomaly</span> <span class='kw'>=</span> <span class='fu'>calc_annual_anomaly</span>(<span class='no'>temperature</span>,
                                           <span class='no'>year</span>,
                                           <span class='no'>reference_period</span>))</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 100 × 3</span>
#&gt;    temperature  year anomaly
#&gt;          <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span>        10.8  <span style='text-decoration: underline;'>1</span>901  -<span style='color: #BB0000;'>3.67</span> 
#&gt; <span style='color: #BCBCBC;'> 2</span>        18.3  <span style='text-decoration: underline;'>1</span>902   3.87 
#&gt; <span style='color: #BCBCBC;'> 3</span>        16.0  <span style='text-decoration: underline;'>1</span>903   1.53 
#&gt; <span style='color: #BCBCBC;'> 4</span>        11.6  <span style='text-decoration: underline;'>1</span>904  -<span style='color: #BB0000;'>2.91</span> 
#&gt; <span style='color: #BCBCBC;'> 5</span>        10.1  <span style='text-decoration: underline;'>1</span>905  -<span style='color: #BB0000;'>4.40</span> 
#&gt; <span style='color: #BCBCBC;'> 6</span>        14.7  <span style='text-decoration: underline;'>1</span>906   0.187
#&gt; <span style='color: #BCBCBC;'> 7</span>        15.0  <span style='text-decoration: underline;'>1</span>907   0.501
#&gt; <span style='color: #BCBCBC;'> 8</span>        12.9  <span style='text-decoration: underline;'>1</span>908  -<span style='color: #BB0000;'>1.58</span> 
#&gt; <span style='color: #BCBCBC;'> 9</span>        17.3  <span style='text-decoration: underline;'>1</span>909   2.85 
#&gt; <span style='color: #BCBCBC;'>10</span>        17.7  <span style='text-decoration: underline;'>1</span>910   3.25 
#&gt; <span style='color: #949494;'># … with 90 more rows</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Fernando Cagua, David Hodge, Bonnie Farant.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


